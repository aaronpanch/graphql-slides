import { Head, Appear, Image, Split } from "mdx-deck";
import { CodeSurfer, CodeSurferColumns, Step } from "code-surfer";
import { github } from "@code-surfer/themes";
import Layout from "./Layout";
import myTheme from "./theme";
export const theme = myTheme;

<Head>
  <link rel="stylesheet" href="https://use.typekit.net/gif7rwq.css" />
</Head>

<Layout style={{ marginLeft: "64px" }}>

# To graph or, not... to graph

A Talk in 2 Acts about <code style={{ color: "rgb(208,46,149)"}}>GraphQL</code> <img src="http://graphql.org/img/logo.svg" alt="GraphQL Logo" width="50" style={{ display: "inline-block", verticalAlign: "sub" }}/>

<small>By Emerson Price and Aaron Panchal</small>

</Layout>

---

## Purpose

---

<img src="https://i.imgflip.com/3nkbzq.jpg" alt="I Know GraphQL" />

---

## The Stack

---

ROR / GraphQL -->  React / Apollo

---

## Since we last spoke...

---

- Signal Discovery is ~95% GraphQL/Apollo
- ~75% in tracked work (in a planned epic), the rest via natural refactoring
- Still want to marry the stack

---

## What is GraphQL?

---

GraphQL is a query language for APIs and a runtime for fulfilling those queries with your existing data.

---

<img src="https://pbs.twimg.com/media/DgsXLk_X4AEKiJJ?format=jpg&name=4096x4096" alt="Burgers" width="1500"/>

---

## But wait! There's more!

---

- Great at consolidating multiple data sources
- Type/Query/Mutation strategy is simple and clean
- Great libraries/tools like Apollo and GraphiQL make life easier

---

## Some Tips

---

<Image src="https://media.giphy.com/media/Is1O1TWV0LEJi/giphy.gif" />

---

<Layout>

### **1.** _Start_ with how your data will be used.

</Layout>

---

<Layout>

## For Example

Imagine we were building a theatre production API. It will tell us what shows we can see in our area.

</Layout>

---

Our initial inclination might be to think about

---

<CodeSurfer>

```graphql
type Play {
  title: String!
  author: String!
  genre: [String]!
}
```

```graphql
type Play {
  title: String!
  author: String!
  genre: [String]!
}

type Production {
  play: Play!
  venue: Venue!
}
```

```graphql
type Play {
  title: String!
  author: String!
  genre: [String]!
}

type Production {
  play: Play!
  venue: Venue!
}

type Venue {
  address: String!
}
```

```graphql
query {
  nearbyVenues(location: [Number!, Number!]) {
    shows {
      title
      genre
    }
  }
}
```

```diff 2[2:14]

```

```graphql
query {
  nearbyVenues(location: [Number!, Number!]) {
    shows {
      title
      genre
    }
    hasMore
  }
}
```

</CodeSurfer>

---

<Layout>

### **2:** Take time to _describe_ your data before implementing.

</Layout>

---

<CodeSurfer>

```graphql
type Venue {
}
```

```graphql
type Venue {
  address: String!
}
```

```graphql
type Venue {
  address: String!
  shows: [Production]!
}
```

```graphql
type Venue {
  address: String!
  shows: [Production]!
  hasMore: Boolean!
}
```

</CodeSurfer>

---

<Layout>

What haven't we talked about?

<Appear>

- SQL
- Efficiency
- Transport layer (HTTP)

</Appear>

</Layout>
